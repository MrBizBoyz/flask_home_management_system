{% extends 'base-template.html' %}
{% block content %}

<style>
    /* Optional: Styling for highlighting the clickable row */
    tr.clickable-row:hover {
        background-color: #f5f5f5;
        cursor: pointer;
    }
</style>

<div class="container">
  <a href="/messages/add-new-message-form">Add New Message</a>
  <table class="table">
    <thread>
        <tr>
          <th>Title</th>
          <th>Content</th>
          <th>Status</th>
          <th>Directed To</th>
          <th>Date Entered</th>
          <th>Date Read</th>
        </tr>
      </thread>
      <tbody>
      {% for message in messages %}

        <tr class="clickable-row" onclick="location.href='show-single-message?id={{ message.id }}';">
            <td>
              <img src={{ message.user.image_file_location }} alt="" class="user-icon">
            </td>
            <td>{{ message.title }}</td>
            <td>{{ message.content }}</td>
            <td>{{ message.status }}</td>
            <!-- <td>{{ message.user.name }}</td> -->

            <td>{{ message.date_entered }}</td>
            <td>{{ message.date_read }}</td>
        </tr>

        {% endfor %}
      </tbody>
  </table>
</div>

<!-- <script type="text/javascript">
  function checkboxToggle(id){
    var checkBox = document.getElementById("message_date_completed_" + id);
    if (checkBox.checked == true){
      window.location.href = "/messages/toggle-completed?id=" + id + "&checked=true"

    } else {
      window.location.href = "/messages/toggle-completed?id=" + id + "&checked=false"
    }
  }

  function confirmDelete(id){
    if(confirm("Are you sure you want to delete")){
      window.location.href = "/messages/delete-message?id=" + id
    }
  }

</script> -->

{% endblock %}
